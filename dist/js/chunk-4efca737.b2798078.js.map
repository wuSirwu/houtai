{"version":3,"sources":["webpack:///./src/components/user/childComponents/UserSetRole.vue?2297","webpack:///./src/components/user/Users.vue?677b","webpack:///./src/components/user/childComponents/UserSearchAndAdd.vue?f63a","webpack:///./src/network/user.js","webpack:///src/components/user/childComponents/UserSearchAndAdd.vue","webpack:///./src/components/user/childComponents/UserSearchAndAdd.vue?f027","webpack:///./src/components/user/childComponents/UserSearchAndAdd.vue","webpack:///./src/components/user/childComponents/UserPagination.vue?c752","webpack:///src/components/user/childComponents/UserPagination.vue","webpack:///./src/components/user/childComponents/UserPagination.vue?bfbc","webpack:///./src/components/user/childComponents/UserPagination.vue","webpack:///./src/components/user/childComponents/UserTable.vue?788d","webpack:///./src/components/user/childComponents/UserSetState.vue?455b","webpack:///src/components/user/childComponents/UserSetState.vue","webpack:///./src/components/user/childComponents/UserSetState.vue?a98a","webpack:///./src/components/user/childComponents/UserSetState.vue","webpack:///./src/components/user/childComponents/UserEditDialog.vue?7cde","webpack:///src/components/user/childComponents/UserEditDialog.vue","webpack:///./src/components/user/childComponents/UserEditDialog.vue?cf16","webpack:///./src/components/user/childComponents/UserEditDialog.vue","webpack:///./src/components/user/childComponents/UserRemoveDialog.vue?dd07","webpack:///src/components/user/childComponents/UserRemoveDialog.vue","webpack:///./src/components/user/childComponents/UserRemoveDialog.vue?2469","webpack:///./src/components/user/childComponents/UserRemoveDialog.vue","webpack:///./src/components/user/childComponents/UserSetRole.vue?6fb4","webpack:///src/components/user/childComponents/UserSetRole.vue","webpack:///./src/components/user/childComponents/UserSetRole.vue?2ab8","webpack:///./src/components/user/childComponents/UserSetRole.vue","webpack:///src/components/user/childComponents/UserTable.vue","webpack:///./src/components/user/childComponents/UserTable.vue?b8b3","webpack:///./src/components/user/childComponents/UserTable.vue","webpack:///src/components/user/Users.vue","webpack:///./src/components/user/Users.vue?1ac7","webpack:///./src/components/user/Users.vue","webpack:///./src/components/user/Users.vue?91a7","webpack:///./src/network/rights.js","webpack:///./src/components/common/BreadcrumbNav.vue?bc8b","webpack:///src/components/common/BreadcrumbNav.vue","webpack:///./src/components/common/BreadcrumbNav.vue?051d","webpack:///./src/components/common/BreadcrumbNav.vue","webpack:///./src/components/user/childComponents/UserEditDialog.vue?d809"],"names":["render","_vm","this","_c","_self","scopedSlots","_u","key","fn","_v","proxy","staticClass","attrs","queryInfo","on","updateUserList","userList","total","handleSizeChange","staticRenderFns","search","model","value","callback","$$v","$set","expression","slot","$event","addDialogVisible","addDialogClose","ref","addUserForm","addUserFormRules","addUser","getUserListRequest","request","url","params","changUserStateRequest","uid","type","method","addUserRequest","userinfo","data","getUserByIdRequest","id","editUserByIdRequest","userInfo","email","mobile","removeUserByIdRequest","allotNewRoleRequest","userId","roleId","rid","checkEmail","rule","regEmail","test","Error","checkMobile","regMobile","name","props","Object","query","pagenum","pagesize","username","password","required","message","trigger","min","max","validator","methods","$emit","$refs","addUserFormRef","resetFields","validate","valid","then","res","result","meta","status","alertMessage","component","handleCurrentChange","Number","default","newSize","newPage","scope","row","mg_state","userStateChange","nowState","state","Boolean","console","log","showEditDialog","editDialogVisible","editDialogClose","editUserForm","editUserFormRules","editUserInfo","editUserFormRef","removeUserById","$confirm","confirmButtonText","cancelButtonText","catch","showSetRoleDialog","role","setRoleDialogVisible","setRoleDialogClose","_s","role_name","selectRoleId","_l","item","roleName","allotRole","rolesList","components","UserSetState","UserEditDialog","UserRemoveDialog","UserSetRole","Array","BreadcrumbNav","UserSearchAndAdd","UserTable","UserPagination","getUserList","users","getRightsListRequest","getRolesListRequest","addRoleRequest","roleInfo","getRoleByIdRequest","editRoleRequest","roleDesc","removeRoleByIdRequest","addRightsRequest","rids","removeRightByIdRequest","rightId","path","_t"],"mappings":"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","file":"js/chunk-4efca737.b2798078.js","sourcesContent":["export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/_vue-loader@15.10.0@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/_vue-loader@15.10.0@vue-loader/lib/index.js??vue-loader-options!./UserSetRole.vue?vue&type=style&index=0&id=01709341&prod&scoped=true&lang=css&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('breadcrumb-nav',{scopedSlots:_vm._u([{key:\"firstMenu\",fn:function(){return [_vm._v(\"用户管理\")]},proxy:true},{key:\"secondMenu\",fn:function(){return [_vm._v(\"用户列表\")]},proxy:true}])}),_c('el-card',{staticClass:\"box-card\"},[_c('user-search-and-add',{attrs:{\"queryInfo\":_vm.queryInfo},on:{\"user-list\":_vm.updateUserList}}),_c('user-table',{attrs:{\"user-list\":_vm.userList,\"query-info\":_vm.queryInfo},on:{\"user-list\":_vm.updateUserList}}),_c('user-pagination',{attrs:{\"query-info\":_vm.queryInfo,\"total\":_vm.total},on:{\"page-size-change\":_vm.handleSizeChange,\"current-page-change\":_vm.handleSizeChange}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":8}},[_c('el-input',{attrs:{\"placeholder\":\"请输入内容\",\"clearable\":\"\"},on:{\"clear\":_vm.search},model:{value:(_vm.queryInfo.query),callback:function ($$v) {_vm.$set(_vm.queryInfo, \"query\", $$v)},expression:\"queryInfo.query\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.search},slot:\"append\"})],1)],1),_c('el-col',{attrs:{\"span\":4}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.addDialogVisible = true}}},[_vm._v(\"添加用户\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"添加用户\",\"visible\":_vm.addDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.addDialogVisible=$event},\"close\":_vm.addDialogClose}},[_c('el-form',{ref:\"addUserFormRef\",attrs:{\"model\":_vm.addUserForm,\"rules\":_vm.addUserFormRules,\"label-width\":\"70px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"username\"}},[_c('el-input',{model:{value:(_vm.addUserForm.username),callback:function ($$v) {_vm.$set(_vm.addUserForm, \"username\", $$v)},expression:\"addUserForm.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.addUserForm.password),callback:function ($$v) {_vm.$set(_vm.addUserForm, \"password\", $$v)},expression:\"addUserForm.password\"}})],1),_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('el-input',{attrs:{\"type\":\"email\"},model:{value:(_vm.addUserForm.email),callback:function ($$v) {_vm.$set(_vm.addUserForm, \"email\", $$v)},expression:\"addUserForm.email\"}})],1),_c('el-form-item',{attrs:{\"label\":\"手机\",\"prop\":\"mobile\"}},[_c('el-input',{model:{value:(_vm.addUserForm.mobile),callback:function ($$v) {_vm.$set(_vm.addUserForm, \"mobile\", $$v)},expression:\"addUserForm.mobile\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addUser}},[_vm._v(\"确 定\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// 用户管理中的网络请求\n\nimport {request} from \"./request\";\n\n// 获取用户列表\nexport function getUserListRequest(queryInfo) {\n  return request({\n    url: '/users',\n    params: {...queryInfo}\n  })\n}\n\n// 修改用户状态\nexport function changUserStateRequest(uid, type) {\n  return request({\n    url: `users/${uid}/state/${type}`,\n    method: 'put',\n  })\n}\n\n// 添加新用户\nexport function addUserRequest(userinfo) {\n  return request({\n    url: '/users',\n    method: 'post',\n    data: {...userinfo}\n  })\n}\n\n// 根据ID查询用户信息\nexport function getUserByIdRequest(id) {\n  return request({\n    url: `/users/${id}`\n  })\n}\n\n// 编辑用户\nexport function editUserByIdRequest(userInfo) {\n  return request({\n    url: `/users/${userInfo.id}`,\n    method: 'put',\n    data: {\n      email: userInfo.email,\n      mobile: userInfo.mobile\n    }\n  })\n}\n\n// 删除用户\nexport function removeUserByIdRequest(id) {\n  return request({\n    url: `/users/${id}`,\n    method: 'delete'\n  })\n}\n\n// 分配用户角色\nexport function allotNewRoleRequest(userId, roleId) {\n  return request({\n    url: `users/${userId}/role`,\n    method: 'put',\n    data: {\n      rid: roleId\n    }\n  })\n}\n","<template>\n  <div>\n    <!-- 搜索与添加按钮 -->\n    <el-row :gutter=\"20\">\n      <el-col :span=\"8\">\n        <!-- 搜索与添加区域 -->\n        <el-input placeholder=\"请输入内容\" v-model=\"queryInfo.query\" clearable @clear=\"search\">\n          <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"search\"></el-button>\n        </el-input>\n      </el-col>\n      <el-col :span=\"4\">\n        <el-button type=\"primary\" @click=\"addDialogVisible = true\">添加用户</el-button>\n      </el-col>\n    </el-row>\n\n    <!-- 添加用户的对话框 -->\n    <el-dialog\n            title=\"添加用户\"\n            :visible.sync=\"addDialogVisible\"\n            width=\"50%\"\n            @close=\"addDialogClose\">\n      <el-form :model=\"addUserForm\" :rules=\"addUserFormRules\" ref=\"addUserFormRef\" label-width=\"70px\">\n        <el-form-item label=\"用户名\" prop=\"username\">\n          <el-input v-model=\"addUserForm.username\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"密码\" prop=\"password\">\n          <el-input v-model=\"addUserForm.password\" type=\"password\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"邮箱\" prop=\"email\">\n          <el-input v-model=\"addUserForm.email\" type=\"email\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"手机\" prop=\"mobile\">\n          <el-input v-model=\"addUserForm.mobile\"></el-input>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"addDialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"addUser\">确 定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n\n</template>\n\n<script>\n  import {\n    getUserListRequest,\n    addUserRequest\n  } from \"network/user\";\n\n  // 验证邮箱的规则\n  let checkEmail = (rule, value, callback) => {\n    let regEmail = /^[a-zA-Z0-9]+([-_.][a-zA-Z0-9]+)*@[a-zA-Z0-9]+([-_.][a-zA-Z0-9]+)*\\.[a-z]{2,}$/;\n    if (!regEmail.test(value)) {\n      return callback(new Error('请输入合法的邮箱'));\n    }\n    callback();\n  };\n\n  // 验证手机号的规则\n  let checkMobile = (rule, value, callback) => {\n    let regMobile = /^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\\d{8}$/;\n    if (!regMobile.test(value)) {\n      return callback(new Error('请输入合法的手机号'));\n    }\n    callback();\n  };\n\n  export default {\n    name: \"UserSearchAndAdd\",\n    props: {\n      queryInfo: {\n        type:Object,\n        default() {\n          return {\n            query: '',\n            pagenum: 1, // 当前页\n            pagesize: 2 // 每页显示多少条数据\n          }\n        }\n      }\n    },\n    data() {\n      return {\n        addDialogVisible: false,\n        addUserForm: { // 添加用户表单的数据\n          username: '',\n          password: '',\n          email: '',\n          mobile: ''\n        },\n        addUserFormRules: {\n          username: [\n            {required: true, message: '请输入用户名', trigger: 'blur'},\n            {min: 2, max: 10, message: '长度需要在2到10之间', trigger: 'blur'}\n          ],\n          password: [\n            {required: true, message: '请输入密码', trigger: 'blur'},\n            {min: 6, max: 15, message: '长度需要在6到15之间', trigger: 'blur'}\n          ],\n          email: [\n            {required: true, message: '请输入邮箱', trigger: 'blur'},\n            {validator: checkEmail, trigger: 'blur'}\n          ],\n          mobile: [\n            {required: true, message: '请输入手机号', trigger: 'blur'},\n            {validator: checkMobile, trigger: 'blur'}\n          ]\n        },\n      }\n    },\n    methods: {\n      // 点击搜索按钮时，通知外部组件重新获取用户列表\n      search(){\n        this.$emit('user-list');\n      },\n\n      // 监听弹框的关闭事件\n      addDialogClose() {\n        this.$refs.addUserFormRef.resetFields();\n      },\n\n      // 点击添加用户的“确定”按钮添加新用户\n      addUser() {\n        this.$refs.addUserFormRef.validate(valid => {\n          if (!valid) return;\n\n          addUserRequest(this.addUserForm).then(res => {\n            let result = res.data;\n\n            if (result.meta.status !== 201) {\n              return this.alertMessage('添加用户失败', 'error');\n            }\n\n            this.alertMessage('添加用户成功', 'success');\n\n            // 隐藏弹窗\n            this.addDialogVisible = false;\n\n            // 添加新用户，通知外部组件重新获取用户列表\n            this.$emit('user-list');\n          });\n\n        })\n      },\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/_vue-loader@15.10.0@vue-loader/lib/index.js??vue-loader-options!./UserSearchAndAdd.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/_vue-loader@15.10.0@vue-loader/lib/index.js??vue-loader-options!./UserSearchAndAdd.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserSearchAndAdd.vue?vue&type=template&id=0049521e&scoped=true&\"\nimport script from \"./UserSearchAndAdd.vue?vue&type=script&lang=js&\"\nexport * from \"./UserSearchAndAdd.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.10.0@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0049521e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-pagination',{attrs:{\"current-page\":_vm.queryInfo.pagenum,\"page-sizes\":[1, 2, 5, 10],\"page-size\":_vm.queryInfo.pagesize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <!-- 分页 -->\n    <el-pagination\n            @size-change=\"handleSizeChange\"\n            @current-change=\"handleCurrentChange\"\n            :current-page=\"queryInfo.pagenum\"\n            :page-sizes=\"[1, 2, 5, 10]\"\n            :page-size=\"queryInfo.pagesize\"\n            layout=\"total, sizes, prev, pager, next, jumper\"\n            :total=\"total\">\n    </el-pagination>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: \"UserPagination\",\n    props: {\n      queryInfo: {\n        type: Object,\n        default() {\n          return {\n            query: '',\n            pagenum: 1, // 当前页\n            pagesize: 2 // 每页显示多少条数据\n          }\n        }\n      },\n      total: {\n        type: Number,\n        default: 0\n      }\n    },\n    data() {\n      return {}\n    },\n    methods: {\n      // 监听pageSize改变的事件，并发送新的网络请求\n      handleSizeChange(newSize) {\n        // this.queryInfo.pagesize = newSize;\n        // this.getUserList();\n        this.$emit('page-size-change', newSize);\n      },\n\n      // 监听页码改变的事件，并发送新的网络请求\n      handleCurrentChange(newPage) {\n        // this.queryInfo.pagenum = newPage;\n        // this.getUserList();\n        this.$emit('current-page-change', newPage);\n      }\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/_vue-loader@15.10.0@vue-loader/lib/index.js??vue-loader-options!./UserPagination.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/_vue-loader@15.10.0@vue-loader/lib/index.js??vue-loader-options!./UserPagination.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserPagination.vue?vue&type=template&id=08d7ba3e&scoped=true&\"\nimport script from \"./UserPagination.vue?vue&type=script&lang=js&\"\nexport * from \"./UserPagination.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.10.0@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"08d7ba3e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-table',{attrs:{\"data\":_vm.userList,\"border\":\"\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\"}}),_c('el-table-column',{attrs:{\"prop\":\"username\",\"label\":\"姓名\"}}),_c('el-table-column',{attrs:{\"prop\":\"email\",\"label\":\"邮箱\"}}),_c('el-table-column',{attrs:{\"prop\":\"mobile\",\"label\":\"电话\"}}),_c('el-table-column',{attrs:{\"prop\":\"role_name\",\"label\":\"角色\"}}),_c('el-table-column',{attrs:{\"label\":\"状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('user-set-state',{attrs:{\"state\":scope.row.mg_state,\"userinfo\":scope.row}})]}}])}),_c('el-table-column',{staticClass:\"btns\",attrs:{\"label\":\"操作\",\"width\":\"180px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('user-edit-dialog',{attrs:{\"user-id\":scope.row.id},on:{\"user-list\":_vm.updateUserList}}),_c('user-remove-dialog',{attrs:{\"user-id\":scope.row.id},on:{\"user-list\":_vm.updateUserList}}),_c('user-set-role',{attrs:{\"role\":scope.row},on:{\"user-list\":_vm.updateUserList}})]}}])})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-switch',{on:{\"change\":function($event){return _vm.userStateChange(_vm.userinfo)}},model:{value:(_vm.nowState),callback:function ($$v) {_vm.nowState=$$v},expression:\"nowState\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <el-switch v-model=\"nowState\" @change=\"userStateChange(userinfo)\"></el-switch>\n  </div>\n</template>\n\n<script>\n  import {changUserStateRequest} from \"network/user\";\n\n  export default {\n    name: \"UserSetState\",\n    props: {\n      state: {\n        type: Boolean,\n        required: true\n      },\n      userinfo: {\n        type: Object,\n        default() {\n          return {}\n        }\n      }\n    },\n    data() {\n      return {\n        nowState: this.state\n      }\n    },\n    methods: {\n      // switch状态改变\n      userStateChange(userinfo) {\n        changUserStateRequest(userinfo.id, this.nowState).then(res => {\n          let result = res.data;\n          console.log('修改状态', result);\n          if (result.meta.status !== 200) {\n            // 如果更新状态失败，要让已经改变的状态恢复成原样\n            this.nowState = !this.nowState;\n            return this.alertMessage('更新状态失败', 'error');\n          }\n          this.alertMessage('更新状态成功', 'success');\n        })\n      }\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/_vue-loader@15.10.0@vue-loader/lib/index.js??vue-loader-options!./UserSetState.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/_vue-loader@15.10.0@vue-loader/lib/index.js??vue-loader-options!./UserSetState.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserSetState.vue?vue&type=template&id=8dc3be10&scoped=true&\"\nimport script from \"./UserSetState.vue?vue&type=script&lang=js&\"\nexport * from \"./UserSetState.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.10.0@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8dc3be10\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"editDialog\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.showEditDialog(_vm.userId)}}}),_c('el-dialog',{attrs:{\"title\":\"修改用户\",\"visible\":_vm.editDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.editDialogVisible=$event},\"close\":_vm.editDialogClose}},[_c('el-form',{ref:\"editUserFormRef\",attrs:{\"model\":_vm.editUserForm,\"rules\":_vm.editUserFormRules,\"label-width\":\"70px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.editUserForm.username),callback:function ($$v) {_vm.$set(_vm.editUserForm, \"username\", $$v)},expression:\"editUserForm.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('el-input',{model:{value:(_vm.editUserForm.email),callback:function ($$v) {_vm.$set(_vm.editUserForm, \"email\", $$v)},expression:\"editUserForm.email\"}})],1),_c('el-form-item',{attrs:{\"label\":\"手机号\",\"prop\":\"mobile\"}},[_c('el-input',{model:{value:(_vm.editUserForm.mobile),callback:function ($$v) {_vm.$set(_vm.editUserForm, \"mobile\", $$v)},expression:\"editUserForm.mobile\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.editDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.editUserInfo}},[_vm._v(\"确 定\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"editDialog\">\n    <!-- 修改用户的按钮 -->\n    <el-button type=\"primary\" icon=\"el-icon-edit\" size=\"mini\" @click=\"showEditDialog(userId)\"></el-button>\n\n    <!-- 修改用户的对话框 -->\n    <el-dialog\n            title=\"修改用户\"\n            :visible.sync=\"editDialogVisible\"\n            width=\"50%\"\n            @close=\"editDialogClose\">\n      <el-form :model=\"editUserForm\" :rules=\"editUserFormRules\" ref=\"editUserFormRef\" label-width=\"70px\">\n        <el-form-item label=\"用户名\">\n          <el-input v-model=\"editUserForm.username\" disabled></el-input>\n        </el-form-item>\n        <el-form-item label=\"邮箱\" prop=\"email\">\n          <el-input v-model=\"editUserForm.email\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"手机号\" prop=\"mobile\">\n          <el-input v-model=\"editUserForm.mobile\"></el-input>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"editDialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"editUserInfo\">确 定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n\n  import {\n    getUserByIdRequest,\n    editUserByIdRequest,\n  } from \"network/user\";\n\n  // 验证邮箱的规则\n  let checkEmail = (rule, value, callback) => {\n    let regEmail = /^[a-zA-Z0-9]+([-_.][a-zA-Z0-9]+)*@[a-zA-Z0-9]+([-_.][a-zA-Z0-9]+)*\\.[a-z]{2,}$/;\n    if (!regEmail.test(value)) {\n      return callback(new Error('请输入合法的邮箱'));\n    }\n    callback();\n  };\n\n  // 验证手机号的规则\n  let checkMobile = (rule, value, callback) => {\n    let regMobile = /^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\\d{8}$/;\n    if (!regMobile.test(value)) {\n      return callback(new Error('请输入合法的手机号'));\n    }\n    callback();\n  };\n\n  export default {\n    name: \"UserEditDialog\",\n    props: {\n      userId: {\n        type: Number,\n        default: 0\n      }\n    },\n    data() {\n      return {\n        editDialogVisible: false,\n        editUserForm: {  // 当前准备编辑的用户信息\n          username: '',\n          email: '',\n          mobile: ''\n        },\n        editUserFormRules: {\n          email: [\n            {required: true, message: '请输入邮箱', trigger: 'blur'},\n            {validator: checkEmail, trigger: 'blur'}\n          ],\n          mobile: [\n            {required: true, message: '请输入手机号', trigger: 'blur'},\n            {validator: checkMobile, trigger: 'blur'}\n          ]\n        }\n      }\n    },\n    methods: {\n      // 展示编辑用户的对话框，并获取当前用户的数据\n      showEditDialog(id) {\n        this.editDialogVisible = true;\n        getUserByIdRequest(id).then(res => {\n          let result = res.data;\n          if (result.meta.status !== 200) {\n            return this.alertMessage('获取用户信息失败','error');\n          }\n          this.editUserForm = result.data;\n        })\n      },\n\n      // 监听编辑用户的对话框的关闭事件\n      editDialogClose() {\n        this.$refs.editUserFormRef.resetFields();\n      },\n\n      // 点击编辑用户的“确定”按钮\n      editUserInfo() {\n        this.$refs.editUserFormRef.validate(valid => {\n          if (!valid) return;\n\n          editUserByIdRequest(this.editUserForm).then(res => {\n            let result = res.data;\n            // 更新失败\n            if (result.meta.status !== 200) {\n              return this.alertMessage('更新用户信息失败','error');\n            }\n\n            // 提示更新成功\n            this.alertMessage('更新用户信息成功','success');\n\n            // 关闭对话框\n            this.editDialogVisible = false;\n\n            // 重新获取用户列表\n            this.$emit('user-list');\n          });\n\n        })\n      },\n    }\n  }\n</script>\n\n<style scoped>\n.editDialog {\n  display: inline-block;\n  margin-right: 5px;\n}\n</style>\n","import mod from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/_vue-loader@15.10.0@vue-loader/lib/index.js??vue-loader-options!./UserEditDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/_vue-loader@15.10.0@vue-loader/lib/index.js??vue-loader-options!./UserEditDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserEditDialog.vue?vue&type=template&id=5a8dca9d&scoped=true&\"\nimport script from \"./UserEditDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./UserEditDialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserEditDialog.vue?vue&type=style&index=0&id=5a8dca9d&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.10.0@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5a8dca9d\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.removeUserById(_vm.userId)}}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <!-- 删除用户的按钮 -->\n  <el-button type=\"danger\" icon=\"el-icon-delete\" size=\"mini\" @click=\"removeUserById(userId)\"></el-button>\n</template>\n\n<script>\n\n  import {removeUserByIdRequest} from \"network/user\";\n\n  export default {\n    name: \"UserRemoveDialog\",\n    props: {\n      userId: {\n        type: Number,\n        default: 0\n      }\n    },\n    data() {\n      return {}\n    },\n    methods: {\n      // 根据ID删除用户\n      removeUserById(id) {\n        this.$confirm('此操作将删除该该用户, 是否继续?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(() => {\n          removeUserByIdRequest(id).then(res => {\n            let result = res.data;\n\n            if (result.meta.status !== 200) {\n              return this.alertMessage('删除失败', 'error');\n            }\n\n            this.alertMessage('删除成功', 'success');\n\n            this.$emit('user-list');\n          });\n        }).catch(() => {\n          this.alertMessage('已取消删除', 'info');\n        });\n      },\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/_vue-loader@15.10.0@vue-loader/lib/index.js??vue-loader-options!./UserRemoveDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/_vue-loader@15.10.0@vue-loader/lib/index.js??vue-loader-options!./UserRemoveDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserRemoveDialog.vue?vue&type=template&id=45ba4023&scoped=true&\"\nimport script from \"./UserRemoveDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./UserRemoveDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.10.0@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"45ba4023\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"setDialog\"},[_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"分配角色\",\"placement\":\"top-start\",\"enterable\":false}},[_c('el-button',{attrs:{\"type\":\"warning\",\"icon\":\"el-icon-setting\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.showSetRoleDialog(_vm.role)}}})],1),_c('el-dialog',{attrs:{\"title\":\"分配角色\",\"visible\":_vm.setRoleDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.setRoleDialogVisible=$event},\"close\":_vm.setRoleDialogClose}},[_c('div',[_c('p',[_vm._v(\"当前用户：\"+_vm._s(_vm.userinfo.username))]),_c('p',[_vm._v(\"当前角色：\"+_vm._s(_vm.userinfo.role_name))]),_c('p',[_vm._v(\" 分配新角色： \"),_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.selectRoleId),callback:function ($$v) {_vm.selectRoleId=$$v},expression:\"selectRoleId\"}},_vm._l((_vm.rolesList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.roleName,\"value\":item.id}})}),1)],1)]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.setRoleDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.allotRole}},[_vm._v(\"确 定\")])],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <!-- 分配角色组件 -->\n  <div class=\"setDialog\">\n    <el-tooltip effect=\"dark\" content=\"分配角色\" placement=\"top-start\" :enterable=\"false\">\n      <el-button type=\"warning\" icon=\"el-icon-setting\" size=\"mini\"\n                 @click=\"showSetRoleDialog(role)\"></el-button>\n    </el-tooltip>\n\n    <!-- 分配角色的对话框 -->\n    <el-dialog\n            title=\"分配角色\"\n            :visible.sync=\"setRoleDialogVisible\"\n            width=\"50%\"\n            @close=\"setRoleDialogClose\">\n      <div>\n        <p>当前用户：{{userinfo.username}}</p>\n        <p>当前角色：{{userinfo.role_name}}</p>\n        <p>\n          分配新角色：\n          <el-select v-model=\"selectRoleId\" placeholder=\"请选择\">\n            <el-option\n                    v-for=\"item in rolesList\"\n                    :key=\"item.id\"\n                    :label=\"item.roleName\"\n                    :value=\"item.id\">\n            </el-option>\n          </el-select>\n        </p>\n      </div>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"setRoleDialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"allotRole\">确 定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n\n  import {allotNewRoleRequest} from \"network/user\";\n\n  import {getRolesListRequest} from 'network/rights'\n\n  export default {\n    name: \"UserSetRole\",\n    props: {\n      role: {\n        type: Object,\n        default() {\n          return {}\n        }\n      }\n    },\n    data() {\n      return {\n        setRoleDialogVisible: false, // 分配角色的对话框\n        userinfo: {}, // 需要被分配角色的用户信息\n        rolesList: [], // 角色列表\n        selectRoleId: '', // 分配角色时，当前选中的角色id\n      }\n    },\n    methods: {\n      // 打开分配角色的弹窗，并获取当前的用户信息\n      showSetRoleDialog(role) {\n        this.userinfo = role;\n        // 获取所有的角色列表\n        getRolesListRequest().then(res => {\n          let result = res.data;\n          if (result.meta.status !== 200) {\n            return this.alertMessage('获取角色列表失败', 'error');\n          }\n          this.rolesList = result.data;\n        });\n\n        this.setRoleDialogVisible = true;\n      },\n\n      // 点击“确定”按钮分配角色\n      allotRole() {\n        if (!this.selectRoleId) {\n          return this.alertMessage('请选择一个角色', 'error');\n        }\n\n        allotNewRoleRequest(this.userinfo.id, this.selectRoleId).then(res => {\n          let result = res.data;\n\n          // 更新失败\n          if (result.meta.status !== 200) {\n            return this.alertMessage('更新角色失败', 'error');\n          }\n\n          // 提示更新成功\n          this.alertMessage('更新角色成功', 'success');\n\n          // 关闭对话框\n          this.setRoleDialogVisible = false;\n\n          // 重新获取用户列表\n          this.$emit('user-list');\n        })\n      },\n\n      // 监听分配角色的对话框的关闭事件\n      setRoleDialogClose() {\n        this.selectRoleId = '';\n        this.userinfo = {};\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  .setDialog {\n    display: inline-block;\n    margin-left: 5px;\n  }\n</style>\n","import mod from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/_vue-loader@15.10.0@vue-loader/lib/index.js??vue-loader-options!./UserSetRole.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/_vue-loader@15.10.0@vue-loader/lib/index.js??vue-loader-options!./UserSetRole.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserSetRole.vue?vue&type=template&id=01709341&scoped=true&\"\nimport script from \"./UserSetRole.vue?vue&type=script&lang=js&\"\nexport * from \"./UserSetRole.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserSetRole.vue?vue&type=style&index=0&id=01709341&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.10.0@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"01709341\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <el-table :data=\"userList\" border stripe>\n    <!-- 基本信息 -->\n    <el-table-column type=\"index\"></el-table-column>\n    <el-table-column prop=\"username\" label=\"姓名\"></el-table-column>\n    <el-table-column prop=\"email\" label=\"邮箱\"></el-table-column>\n    <el-table-column prop=\"mobile\" label=\"电话\"></el-table-column>\n    <el-table-column prop=\"role_name\" label=\"角色\"></el-table-column>\n\n    <!-- 状态 -->\n    <el-table-column label=\"状态\">\n      <template slot-scope=\"scope\">\n        <user-set-state :state=\"scope.row.mg_state\" :userinfo=\"scope.row\"/>\n      </template>\n    </el-table-column>\n\n    <!-- 操作 -->\n    <el-table-column label=\"操作\" width=\"180px\" class=\"btns\">\n      <template slot-scope=\"scope\">\n        <!-- 修改按钮 -->\n        <user-edit-dialog :user-id=\"scope.row.id\" @user-list=\"updateUserList\"/>\n\n        <!-- 删除按钮 -->\n        <user-remove-dialog :user-id=\"scope.row.id\" @user-list=\"updateUserList\"/>\n\n        <!-- 分配角色按钮 -->\n        <user-set-role :role=\"scope.row\" @user-list=\"updateUserList\"/>\n      </template>\n    </el-table-column>\n  </el-table>\n</template>\n\n<script>\n\n  import UserSetState from \"./UserSetState\";\n  import UserEditDialog from \"./UserEditDialog\";\n  import UserRemoveDialog from \"./UserRemoveDialog\";\n  import UserSetRole from \"./UserSetRole\";\n\n  export default {\n    name: \"UserTable\",\n    components: {\n      UserSetState,\n      UserEditDialog,\n      UserRemoveDialog,\n      UserSetRole\n    },\n    props: {\n      userList: {\n        type: Array,\n        default() {\n          return []\n        }\n      },\n      queryInfo: {\n        type: Object,\n        default() {\n          return {\n            query: '',\n            pagenum: 1, // 当前页\n            pagesize: 2 // 每页显示多少条数据\n          }\n        }\n      }\n    },\n    methods: {\n      // 监听子组件发射的事件，获得最新的userList和total信息\n      updateUserList() {\n        this.$emit('user-list');\n      }\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/_vue-loader@15.10.0@vue-loader/lib/index.js??vue-loader-options!./UserTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/_vue-loader@15.10.0@vue-loader/lib/index.js??vue-loader-options!./UserTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserTable.vue?vue&type=template&id=07bec86c&scoped=true&\"\nimport script from \"./UserTable.vue?vue&type=script&lang=js&\"\nexport * from \"./UserTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.10.0@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"07bec86c\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <!-- 顶部面包屑导航 -->\n    <breadcrumb-nav>\n      <template v-slot:firstMenu>用户管理</template>\n      <template v-slot:secondMenu>用户列表</template>\n    </breadcrumb-nav>\n\n    <!-- 卡片视图-->\n    <el-card class=\"box-card\">\n      <!-- 顶部搜索与添加按钮 -->\n      <user-search-and-add :queryInfo=\"queryInfo\" @user-list=\"updateUserList\"/>\n\n      <!-- 展示的表格 -->\n      <user-table :user-list=\"userList\" :query-info=\"queryInfo\" @user-list=\"updateUserList\" />\n\n      <!-- 分页 -->\n      <user-pagination :query-info=\"queryInfo\" :total=\"total\" @page-size-change=\"handleSizeChange\" @current-page-change=\"handleSizeChange\" />\n    </el-card>\n  </div>\n</template>\n\n<script>\n\n  // 导入公共组件\n  import BreadcrumbNav from \"../common/BreadcrumbNav\";\n\n  // 导入子组件\n  import UserSearchAndAdd from \"./childComponents/UserSearchAndAdd\";\n  import UserPagination from \"./childComponents/UserPagination\";\n  import UserTable from \"./childComponents/UserTable\";\n\n  // 导入发送网络请求的函数\n  import {getUserListRequest} from \"network/user\";\n\n  export default {\n    name: \"Users\",\n    components: {\n      BreadcrumbNav,\n      UserSearchAndAdd,\n      UserTable,\n      UserPagination\n    },\n    data() {\n      return {\n        queryInfo: {\n          query: '',\n          pagenum: 1, // 当前页\n          pagesize: 2 // 每页显示多少条数据\n        },\n        userList: [],\n        total: 0\n      }\n    },\n    created() {\n      this.getUserList();\n    },\n    methods: {\n      // 获取用户列表\n      getUserList() {\n        getUserListRequest(this.queryInfo).then(res => {\n          let result = res.data;\n          if (result.meta.status !== 200) {\n            return this.alertMessage('获取用户列表失败', 'error');\n          }\n          this.userList = result.data.users;\n          this.total = result.data.total;\n        })\n      },\n\n      // 监听子组件发射的事件，获得最新的userList和total信息\n      updateUserList() {\n        this.getUserList();\n      },\n\n      // 监听pageSize改变的事件，并发送新的网络请求\n      handleSizeChange(newSize) {\n        this.queryInfo.pagesize = newSize;\n        this.getUserList();\n      },\n\n      // 监听页码改变的事件，并发送新的网络请求\n      handleCurrentChange(newPage) {\n        this.queryInfo.pagenum = newPage;\n        this.getUserList();\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  .el-table {\n    margin-top: 15px;\n  }\n</style>\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.10.0@vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.10.0@vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Users.vue?vue&type=template&id=29d47574&scoped=true&\"\nimport script from \"./Users.vue?vue&type=script&lang=js&\"\nexport * from \"./Users.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Users.vue?vue&type=style&index=0&id=29d47574&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.10.0@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"29d47574\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/_vue-loader@15.10.0@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.10.0@vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=style&index=0&id=29d47574&prod&scoped=true&lang=css&\"","// 权限管理的网络请求\n\nimport {request} from \"./request\";\n\n// 获取权限列表\nexport function getRightsListRequest(type) {\n  return request({\n    url: `rights/${type}`\n  })\n}\n\n// 获取角色列表\nexport function getRolesListRequest(type) {\n  return request({\n    url: '/roles'\n  })\n}\n\n// 添加角色\nexport function addRoleRequest(roleInfo) {\n  return request({\n    url: '/roles',\n    method: 'post',\n    data: {...roleInfo}\n  })\n}\n\n// 根据角色id获取角色信息\nexport function getRoleByIdRequest(id) {\n  return request({\n    url: `roles/${id}`\n  })\n}\n\n// 编辑角色\nexport function editRoleRequest(roleInfo) {\n  return request({\n    url: `roles/${roleInfo.roleId}`,\n    method: 'put',\n    data: {\n      roleName: roleInfo.roleName,\n      roleDesc: roleInfo.roleDesc\n    }\n  })\n}\n\n// 编辑角色\nexport function removeRoleByIdRequest(id) {\n  return request({\n    url: `roles/${id}`,\n    method: 'delete'\n  })\n}\n\n// 为角色添加权限\nexport function addRightsRequest(roleId, rids) {\n  return request({\n    url: `roles/${roleId}/rights`,\n    method: 'post',\n    data: {\n      rids\n    }\n  })\n}\n\n// 根据ID删除指定角色下的权限\nexport function removeRightByIdRequest(roleId, rightId) {\n  return request({\n    url: `roles/${roleId}/rights/${rightId}`,\n    method: 'delete'\n  })\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-breadcrumb',{attrs:{\"separator\":\"/\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._t(\"firstMenu\",function(){return [_vm._v(\"一级菜单\")]})],2),_c('el-breadcrumb-item',[_vm._t(\"secondMenu\",function(){return [_vm._v(\"二级菜单\")]})],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-breadcrumb separator=\"/\">\n    <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\n    <el-breadcrumb-item>\n      <slot name=\"firstMenu\">一级菜单</slot>\n    </el-breadcrumb-item>\n    <el-breadcrumb-item>\n      <slot name=\"secondMenu\">二级菜单</slot>\n    </el-breadcrumb-item>\n  </el-breadcrumb>\n</template>\n\n<script>\n  export default {\n    name: \"BreadcrumbNav\"\n  }\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.10.0@vue-loader/lib/index.js??vue-loader-options!./BreadcrumbNav.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/_vue-loader@15.10.0@vue-loader/lib/index.js??vue-loader-options!./BreadcrumbNav.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BreadcrumbNav.vue?vue&type=template&id=2d65e998&scoped=true&\"\nimport script from \"./BreadcrumbNav.vue?vue&type=script&lang=js&\"\nexport * from \"./BreadcrumbNav.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.10.0@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2d65e998\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/_vue-loader@15.10.0@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/_vue-loader@15.10.0@vue-loader/lib/index.js??vue-loader-options!./UserEditDialog.vue?vue&type=style&index=0&id=5a8dca9d&prod&scoped=true&lang=css&\""],"sourceRoot":""}